{
  "openapi": "3.0.0",
  "info": {
    "title": "WhyLog API",
    "description": "WhyLog API 명세입니다.",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:3000/"
    }
  ],
  "paths": {
    "/": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/user": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "유저 등록 API",
        "description": "유저 정보를 등록하거나 이메일이 이미 존재하면 정보를 갱신합니다.",
        "responses": {
          "200": {
            "description": "유저 등록 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "SUCCESS"
                    },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "회원가입 성공"
                        },
                        "data": {
                          "type": "object",
                          "properties": {
                            "userId": {
                              "type": "number",
                              "example": 1
                            },
                            "name": {
                              "type": "string",
                              "example": "홍길동"
                            },
                            "email": {
                              "type": "string",
                              "example": "test@example.com"
                            },
                            "imgUrl": {
                              "type": "string",
                              "nullable": true,
                              "example": "https://example.com/profile.jpg"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (필수값 누락 / 이메일 형식 오류)"
          },
          "500": {
            "description": "서버 오류"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "email"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "홍길동"
                  },
                  "email": {
                    "type": "string",
                    "example": "test@example.com"
                  },
                  "imgUrl": {
                    "type": "string",
                    "nullable": true,
                    "example": "https://example.com/profile.jpg"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/user/{userId}": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "유저 프로필 조회 API",
        "description": "userId를 기반으로 사용자 정보를 조회합니다.",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "조회할 사용자 ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "유저 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "SUCCESS"
                    },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "유저 조회 성공"
                        },
                        "data": {
                          "type": "object",
                          "properties": {
                            "userId": {
                              "type": "number",
                              "example": 1
                            },
                            "name": {
                              "type": "string",
                              "example": "홍길동"
                            },
                            "email": {
                              "type": "string",
                              "example": "test@example.com"
                            },
                            "imgUrl": {
                              "type": "string",
                              "nullable": true,
                              "example": "https://example.com/profile.jpg"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "userId 누락"
          },
          "404": {
            "description": "유저를 찾을 수 없음"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/api/user/{userId}/reports": {
      "post": {
        "tags": [
          "Report"
        ],
        "summary": "리포트 생성 API",
        "description": "특정 유저의 특정 연도에 대한 리포트를 생성합니다.",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "유저 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "리포트 생성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "result": {
                      "type": "object",
                      "properties": {
                        "reportId": {
                          "type": "number",
                          "example": 1
                        },
                        "year": {
                          "type": "number",
                          "example": 2025
                        },
                        "standard": {
                          "type": "string",
                          "example": "AI 코멘트..."
                        },
                        "graphData": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "categoryId": {
                                "type": "number",
                                "example": 1
                              },
                              "categoryName": {
                                "type": "string",
                                "example": "비교"
                              },
                              "count": {
                                "type": "number",
                                "example": 10
                              },
                              "percent": {
                                "type": "number",
                                "example": 30
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "result": {
                      "type": "object",
                      "properties": {
                        "reportId": {
                          "type": "number",
                          "example": 1
                        },
                        "year": {
                          "type": "number",
                          "example": 2025
                        },
                        "standard": {
                          "type": "string",
                          "example": "AI 코멘트..."
                        },
                        "graphData": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "categoryId": {
                                "type": "number",
                                "example": 1
                              },
                              "categoryName": {
                                "type": "string",
                                "example": "비교"
                              },
                              "count": {
                                "type": "number",
                                "example": 10
                              },
                              "percent": {
                                "type": "number",
                                "example": 30
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "400": {
            "description": "필수 파라미터 누락",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "R001"
                        },
                        "reason": {
                          "type": "string",
                          "example": "userId 또는 year 필드가 누락되었습니다."
                        },
                        "data": {
                          "type": "object",
                          "properties": {}
                        }
                      }
                    },
                    "success": {}
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "R001"
                        },
                        "reason": {
                          "type": "string",
                          "example": "userId 또는 year 필드가 누락되었습니다."
                        },
                        "data": {
                          "type": "object",
                          "properties": {}
                        }
                      }
                    },
                    "success": {}
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "404": {
            "description": "해당 연도의 기록 없음",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "R002"
                        },
                        "reason": {
                          "type": "string",
                          "example": "해당 유저의 기록이 없습니다."
                        },
                        "data": {
                          "type": "object",
                          "properties": {}
                        }
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "R002"
                        },
                        "reason": {
                          "type": "string",
                          "example": "해당 유저의 기록이 없습니다."
                        },
                        "data": {
                          "type": "object",
                          "properties": {}
                        }
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "409": {
            "description": "이미 리포트가 존재함",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "R003"
                        },
                        "reason": {
                          "type": "string",
                          "example": "해당 연도의 레포트가 이미 존재합니다."
                        },
                        "data": {
                          "type": "object",
                          "properties": {}
                        }
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "R003"
                        },
                        "reason": {
                          "type": "string",
                          "example": "해당 연도의 레포트가 이미 존재합니다."
                        },
                        "data": {
                          "type": "object",
                          "properties": {}
                        }
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "year": {
                    "type": "integer",
                    "example": 2025
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{userId}/records": {
      "post": {
        "tags": [
          "Record"
        ],
        "summary": "한 줄 기록 생성 API",
        "description": "특정 유저의 한 줄 기록을 생성합니다.",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "유저 ID"
          },
          {
            "name": "categoryId",
            "ignore": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "생성 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "SUCCESS"
                    },
                    "error": {
                      "type": "string",
                      "example": "null"
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "number",
                          "example": 1
                        },
                        "title": {
                          "type": "string",
                          "example": "번지점프 예약해놓고 취소했다."
                        },
                        "content": {
                          "type": "string",
                          "example": "버킷리스트 중 하나여서 번지점프 예약..."
                        },
                        "occurDate": {
                          "type": "string",
                          "example": "2025-12-01T00:00:00.000Z"
                        },
                        "categories": {
                          "type": "array",
                          "example": [
                            "기대",
                            "회피"
                          ],
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "SUCCESS"
                    },
                    "error": {
                      "type": "string",
                      "example": "null"
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "number",
                          "example": 1
                        },
                        "title": {
                          "type": "string",
                          "example": "번지점프 예약해놓고 취소했다."
                        },
                        "content": {
                          "type": "string",
                          "example": "버킷리스트 중 하나여서 번지점프 예약..."
                        },
                        "occurDate": {
                          "type": "string",
                          "example": "2025-12-01T00:00:00.000Z"
                        },
                        "categories": {
                          "type": "array",
                          "example": [
                            "기대",
                            "회피"
                          ],
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "400": {
            "description": "필수 파라미터 누락",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C001"
                        },
                        "reason": {
                          "type": "string",
                          "example": "입력값이 유효하지 않습니다."
                        },
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "field": {
                                "type": "string",
                                "example": "title"
                              },
                              "reason": {
                                "type": "string",
                                "example": "필드가 누락되었습니다."
                              }
                            }
                          }
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C001"
                        },
                        "reason": {
                          "type": "string",
                          "example": "입력값이 유효하지 않습니다."
                        },
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "field": {
                                "type": "string",
                                "example": "title"
                              },
                              "reason": {
                                "type": "string",
                                "example": "필드가 누락되었습니다."
                              }
                            }
                          }
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "404": {
            "description": "존재하지 않는 유저",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "U003"
                        },
                        "reason": {
                          "type": "string",
                          "example": "생성된 유저를 찾을 수 없습니다."
                        },
                        "data": {
                          "type": "string",
                          "example": "null"
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "U003"
                        },
                        "reason": {
                          "type": "string",
                          "example": "생성된 유저를 찾을 수 없습니다."
                        },
                        "data": {
                          "type": "string",
                          "example": "null"
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "500": {
            "description": "기록 생성 중 서버 오류 (다시 시도)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C999"
                        },
                        "reason": {
                          "type": "string",
                          "example": "기록 생성 중 서버 오류."
                        },
                        "data": {
                          "type": "object",
                          "properties": {
                            "userId": {
                              "type": "number",
                              "example": 1
                            },
                            "title": {
                              "type": "string",
                              "example": "번지점프 예약해놓고 취소했다."
                            },
                            "content": {
                              "type": "string",
                              "example": "버킷리스트 중 하나여서 번지점프 예약..."
                            },
                            "occurDate": {
                              "type": "string",
                              "example": "2025-12-01T00:00:00.000Z"
                            },
                            "updateDate": {
                              "type": "string",
                              "example": "2025-12-02T00:00:00.00Z"
                            },
                            "categories": {
                              "type": "array",
                              "example": [
                                3,
                                4
                              ],
                              "items": {
                                "type": "number"
                              }
                            }
                          }
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C999"
                        },
                        "reason": {
                          "type": "string",
                          "example": "기록 생성 중 서버 오류."
                        },
                        "data": {
                          "type": "object",
                          "properties": {
                            "userId": {
                              "type": "number",
                              "example": 1
                            },
                            "title": {
                              "type": "string",
                              "example": "번지점프 예약해놓고 취소했다."
                            },
                            "content": {
                              "type": "string",
                              "example": "버킷리스트 중 하나여서 번지점프 예약..."
                            },
                            "occurDate": {
                              "type": "string",
                              "example": "2025-12-01T00:00:00.000Z"
                            },
                            "updateDate": {
                              "type": "string",
                              "example": "2025-12-02T00:00:00.00Z"
                            },
                            "categories": {
                              "type": "array",
                              "example": [
                                3,
                                4
                              ],
                              "items": {
                                "type": "number"
                              }
                            }
                          }
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "번지점프 예약해놓고 취소했다.",
                    "description": "기록 제목"
                  },
                  "content": {
                    "type": "string",
                    "example": "버킷리스트 중 하나여서 번지점프 예약...",
                    "description": "상세 내용"
                  },
                  "category": {
                    "type": "array",
                    "example": [
                      3,
                      4
                    ],
                    "items": {
                      "type": "integer"
                    },
                    "description": "카테고리 아이디 배열"
                  },
                  "occurDate": {
                    "type": "string",
                    "example": "2025-12",
                    "description": "일어난 날짜 (YYYY-MM)"
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Record"
        ],
        "summary": "한 줄 기록 조회 API",
        "description": "특정 유저의 모든 한 줄 기록을 가져옵니다.",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "유저 ID"
          },
          {
            "name": "categoryId",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "SUCCESS"
                    },
                    "error": {
                      "type": "string",
                      "example": "null"
                    },
                    "success": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "number",
                            "example": 2
                          },
                          "title": {
                            "type": "string",
                            "example": "싸웠던 친구에게 다가가 화해를 하지 못했다."
                          },
                          "content": {
                            "type": "string",
                            "example": "사실 별거 아닌 거 그냥 먼저 얘기..."
                          },
                          "occurDate": {
                            "type": "string",
                            "example": "2025-12-01T00:00:00.000Z"
                          },
                          "categories": {
                            "type": "array",
                            "example": [
                              "두려움",
                              "회피"
                            ],
                            "items": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "SUCCESS"
                    },
                    "error": {
                      "type": "string",
                      "example": "null"
                    },
                    "success": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "number",
                            "example": 2
                          },
                          "title": {
                            "type": "string",
                            "example": "싸웠던 친구에게 다가가 화해를 하지 못했다."
                          },
                          "content": {
                            "type": "string",
                            "example": "사실 별거 아닌 거 그냥 먼저 얘기..."
                          },
                          "occurDate": {
                            "type": "string",
                            "example": "2025-12-01T00:00:00.000Z"
                          },
                          "categories": {
                            "type": "array",
                            "example": [
                              "두려움",
                              "회피"
                            ],
                            "items": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "404": {
            "description": "존재하지 않는 유저",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "U003"
                        },
                        "reason": {
                          "type": "string",
                          "example": "생성된 유저를 찾을 수 없습니다."
                        },
                        "data": {
                          "type": "string",
                          "example": "null"
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "U003"
                        },
                        "reason": {
                          "type": "string",
                          "example": "생성된 유저를 찾을 수 없습니다."
                        },
                        "data": {
                          "type": "string",
                          "example": "null"
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "500": {
            "description": "기록 조회 중 서버 오류 (다시 시도)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C999"
                        },
                        "reason": {
                          "type": "string",
                          "example": "기록 생성 중 서버 오류."
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C999"
                        },
                        "reason": {
                          "type": "string",
                          "example": "기록 생성 중 서버 오류."
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{userId}/records/{recordId}": {
      "put": {
        "tags": [
          "Record"
        ],
        "summary": "한 줄 기록 수정 API",
        "description": "특정 유저의 한 줄 기록을 수정합니다.",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "유저 ID"
          },
          {
            "name": "recordId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "한 줄 기록 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "수정 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "SUCCESS"
                    },
                    "error": {
                      "type": "string",
                      "example": "null"
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "number",
                          "example": 1
                        },
                        "title": {
                          "type": "string",
                          "example": "테스트 데이터"
                        },
                        "content": {
                          "type": "string",
                          "example": "테스트 데이터"
                        },
                        "occurDate": {
                          "type": "string",
                          "example": "2025-11-01T00:00:00.000Z"
                        },
                        "categories": {
                          "type": "array",
                          "example": [
                            "비교",
                            "두려움"
                          ],
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "SUCCESS"
                    },
                    "error": {
                      "type": "string",
                      "example": "null"
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "number",
                          "example": 1
                        },
                        "title": {
                          "type": "string",
                          "example": "테스트 데이터"
                        },
                        "content": {
                          "type": "string",
                          "example": "테스트 데이터"
                        },
                        "occurDate": {
                          "type": "string",
                          "example": "2025-11-01T00:00:00.000Z"
                        },
                        "categories": {
                          "type": "array",
                          "example": [
                            "비교",
                            "두려움"
                          ],
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "400": {
            "description": "필수 파라미터 누락",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C001"
                        },
                        "reason": {
                          "type": "string",
                          "example": "입력값이 유효하지 않습니다."
                        },
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "field": {
                                "type": "string",
                                "example": "title"
                              },
                              "reason": {
                                "type": "string",
                                "example": "필드가 누락되었습니다."
                              }
                            }
                          }
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C001"
                        },
                        "reason": {
                          "type": "string",
                          "example": "입력값이 유효하지 않습니다."
                        },
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "field": {
                                "type": "string",
                                "example": "title"
                              },
                              "reason": {
                                "type": "string",
                                "example": "필드가 누락되었습니다."
                              }
                            }
                          }
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "404": {
            "description": "유저가 작성한 한 줄 기록의 ID가 아니거나 존재하지 않음",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C004"
                        },
                        "reason": {
                          "type": "string",
                          "example": "한 줄 기록을 찾을 수 없습니다."
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C004"
                        },
                        "reason": {
                          "type": "string",
                          "example": "한 줄 기록을 찾을 수 없습니다."
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "500": {
            "description": "기록 수정 중 서버 오류 (다시 시도)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C999"
                        },
                        "reason": {
                          "type": "string",
                          "example": "기록 수정 중 서버 오류."
                        },
                        "data": {
                          "type": "object",
                          "properties": {
                            "userId": {
                              "type": "number",
                              "example": 1
                            },
                            "recordId": {
                              "type": "number",
                              "example": 1
                            },
                            "title": {
                              "type": "string",
                              "example": "테스트 데이터"
                            },
                            "content": {
                              "type": "string",
                              "example": "테스트 데이터"
                            },
                            "occurDate": {
                              "type": "string",
                              "example": "2025-11-01T00:00:00.000Z"
                            },
                            "updateDate": {
                              "type": "string",
                              "example": "2025-12-02T00:00:00.00Z"
                            },
                            "categories": {
                              "type": "array",
                              "example": [
                                1,
                                2
                              ],
                              "items": {
                                "type": "number"
                              }
                            }
                          }
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C999"
                        },
                        "reason": {
                          "type": "string",
                          "example": "기록 수정 중 서버 오류."
                        },
                        "data": {
                          "type": "object",
                          "properties": {
                            "userId": {
                              "type": "number",
                              "example": 1
                            },
                            "recordId": {
                              "type": "number",
                              "example": 1
                            },
                            "title": {
                              "type": "string",
                              "example": "테스트 데이터"
                            },
                            "content": {
                              "type": "string",
                              "example": "테스트 데이터"
                            },
                            "occurDate": {
                              "type": "string",
                              "example": "2025-11-01T00:00:00.000Z"
                            },
                            "updateDate": {
                              "type": "string",
                              "example": "2025-12-02T00:00:00.00Z"
                            },
                            "categories": {
                              "type": "array",
                              "example": [
                                1,
                                2
                              ],
                              "items": {
                                "type": "number"
                              }
                            }
                          }
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "테스트 데이터",
                    "description": "기록 제목"
                  },
                  "content": {
                    "type": "string",
                    "example": "테스트 데이터",
                    "description": "상세 내용"
                  },
                  "category": {
                    "type": "array",
                    "example": [
                      1,
                      2
                    ],
                    "items": {
                      "type": "integer"
                    },
                    "description": "카테고리 아이디 배열"
                  },
                  "occurDate": {
                    "type": "string",
                    "example": "2025-11",
                    "description": "일어난 날짜 (YYYY-MM)"
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Record"
        ],
        "summary": "한 줄 기록 삭제 API",
        "description": "특정 유저의 한 줄 기록을 삭제합니다.",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "유저 ID"
          },
          {
            "name": "recordId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "한 줄 기록 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "삭제 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "SUCCESS"
                    },
                    "error": {
                      "type": "string",
                      "example": "null"
                    },
                    "success": {
                      "type": "number",
                      "example": 1
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "SUCCESS"
                    },
                    "error": {
                      "type": "string",
                      "example": "null"
                    },
                    "success": {
                      "type": "number",
                      "example": 1
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "404": {
            "description": "유저가 작성한 한 줄 기록의 ID가 아니거나 존재하지 않음",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C004"
                        },
                        "reason": {
                          "type": "string",
                          "example": "한 줄 기록을 찾을 수 없습니다."
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C004"
                        },
                        "reason": {
                          "type": "string",
                          "example": "한 줄 기록을 찾을 수 없습니다."
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          },
          "500": {
            "description": "기록 수정 중 서버 오류 (다시 시도)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C999"
                        },
                        "reason": {
                          "type": "string",
                          "example": "기록 수정 중 서버 오류."
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": {
                      "type": "string",
                      "example": "FAIL"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": {
                          "type": "string",
                          "example": "C999"
                        },
                        "reason": {
                          "type": "string",
                          "example": "기록 수정 중 서버 오류."
                        }
                      }
                    },
                    "success": {
                      "type": "string",
                      "example": "null"
                    }
                  },
                  "xml": {
                    "name": "main"
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}